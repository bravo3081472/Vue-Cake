webpackJsonp([1],{NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("fZjL"),i=e.n(s),r=e("7+uW"),o={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]};var n=e("VU/8")({name:"App"},o,!1,function(t){e("QQqg")},null,null).exports,l=e("/ocq"),c={name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,a){var e=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,timestamp:e}),this.removeMessageWithTiming(e)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout(function(){a.messages.forEach(function(e,s){e.timestamp===t&&a.messages.splice(s,1)})},5e3)}},created:function(){var t=this;t.$bus.$on("message:push",function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(a,e)})}},d={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message-alert"},t._l(t.messages,function(a,s){return e("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+a.status},[t._v("\n    "+t._s(a.message)+"\n    "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.removeMessage(s)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}),0)},staticRenderFns:[]},u=e("VU/8")(c,d,!1,null,null,null).exports,v={components:{Alert:u},data:function(){return{user:{username:"",password:""}}},methods:{signin:function(){var t=this;t.$http.post("https://vue-course-api.hexschool.io/admin/signin",t.user).then(function(a){if(a.data.success){var e=a.data.token,s=a.data.expired;document.cookie="hexToken="+e+"; expired="+new Date(s),t.$router.push("/admin/Products")}else t.$bus.$emit("message:push",a.data.message,"danger")})}}},p={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container h-100vh"},[e("Alert"),t._v(" "),e("div",{staticClass:"row align-items-center h-100"},[e("div",{staticClass:"col"},[e("form",{staticClass:"form-signin",on:{submit:function(a){return a.preventDefault(),t.signin.apply(null,arguments)}}},[e("h1",{staticClass:"h3 mb-3 font-weight-normal text-center"},[t._v("Please sign in")]),t._v(" "),e("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-signin__control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(a){a.target.composing||t.$set(t.user,"username",a.target.value)}}}),t._v(" "),e("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-signin__control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}}),t._v(" "),t._m(0),t._v(" "),e("button",{staticClass:"btn btn-lg btn-primary form-signin__button",attrs:{type:"submit"}},[t._v("Sign in")]),t._v(" "),e("router-link",{staticClass:"btn btn-lg btn-light form-signin__button",attrs:{to:"/cake-test"}},[t._v("\n          返回首頁\n        ")])],1)])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"form-signin__checkbox"},[a("label",[a("input",{attrs:{type:"checkbox",value:"remember-me"}}),this._v(" Remember me\n          ")])])}]},_=e("VU/8")(v,p,!1,null,null,null).exports,m=e("7t+N"),h=e.n(m),f={data:function(){return{user:{username:"",password:""}}},methods:{signin:function(){var t=this;t.$http.post("https://vue-course-api.hexschool.io/admin/signin",t.user).then(function(a){if(a.data.success){var e=a.data.token,s=a.data.expired;document.cookie="hexToken="+e+"; expired="+new Date(s),h()("#LoadModel").modal("hide"),t.$router.push("/admin/Products")}else t.$bus.$emit("message:push",a.data.message,"danger")})}}},g={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"modal fade",attrs:{id:"LoadModel",tabindex:"-1",role:"dialog","aria-labelledby":"LoadModel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-body"},[t._m(0),t._v(" "),e("form",{staticClass:"form-signin",on:{submit:function(a){return a.preventDefault(),t.signin.apply(null,arguments)}}},[e("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Please sign in")]),t._v(" "),e("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-signin__control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(a){a.target.composing||t.$set(t.user,"username",a.target.value)}}}),t._v(" "),e("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-signin__control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}}),t._v(" "),t._m(1),t._v(" "),e("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v("Login")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"form-signin__checkbox mb-3"},[a("label",[a("input",{attrs:{type:"checkbox",value:"remember-me"}}),this._v(" Remember me\n              ")])])}]},C={components:{LoadModal:e("VU/8")(f,g,!1,null,null,null).exports},data:function(){return{state:"index"}}},b={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("header",[e("nav",{staticClass:"navbar navbar-expand-md navbar-light fixed-top bg-light avoid-scrollbar-push"},[e("div",{staticClass:"container-md"},[e("router-link",{staticClass:"navbar-brand logo",attrs:{to:"/cake-test"}},[t._v("Cake Test\n          "),e("span",{staticClass:"sr-only"},[t._v("(current)")])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarCollapse"}},[e("ul",{staticClass:"navbar-nav mx-auto"},[e("li",{staticClass:"nav-item",class:{active:"index"===t.state},on:{click:function(a){t.state="index"}}},[e("router-link",{staticClass:"nav-link",attrs:{to:"/cake-test"}},[t._v("首頁\n                "),e("span",{staticClass:"sr-only"},[t._v("(current)")])])],1),t._v(" "),e("li",{staticClass:"nav-item",class:{active:"CustomerOrders"===t.state},on:{click:function(a){t.state="CustomerOrders"}}},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"CustomerOrders"}}},[t._v("商品一覽\n                "),e("span",{staticClass:"sr-only"},[t._v("(current)")])])],1)]),t._v(" "),e("button",{staticClass:"btn btn-outline-success my-2 mx-2 my-sm-0",attrs:{type:"submit","data-toggle":"modal","data-target":"#LoadModel"}},[t._v("\n            登入\n          ")])])],1)])]),t._v(" "),e("LoadModal")],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}]},x={data:function(){return{cart:[],isLoading:!1,couponCode:""}},methods:{GetCart:function(){var t=this;t.isLoading=!0,this.$http.get("https://vue-course-api.hexschool.io/api/vuecake/cart").then(function(a){t.cart=a.data.data,t.isLoading=!1})},AddCouponCode:function(){var t=this,a={code:this.couponCode};this.$http.post("https://vue-course-api.hexschool.io/api/vuecake/coupon",{data:a}).then(function(){t.GetCart()})},DelCart:function(t){var a=this,e="https://vue-course-api.hexschool.io/api/vuecake/cart/"+t;this.$http.delete(e).then(function(){a.GetCart()})},ToCart:function(){h()("#CartModal").modal("hide"),this.$router.push("/cake-test/Cart")}},created:function(){var t=this;this.GetCart(),this.$bus.$on("GetCart",function(){t.GetCart()})}},y={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"modal fade",attrs:{id:"CartModal",tabindex:"-1",role:"dialog","aria-labelledby":"CartModal","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),e("div",{staticClass:"modal-body pt-0"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("table",{staticClass:"table"},[t._m(1),t._v(" "),e("tbody",t._l(t.cart.carts,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.DelCart(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v("\n                  "+t._s(a.product.title)+"\n                  "),a.coupon?e("div",{staticClass:"text-success"},[t._v("\n                    已套用優惠券\n                  ")]):t._e()]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v("\n                  "+t._s(a.qty)+"/"+t._s(a.product.unit)+"\n                ")]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v("\n                  "+t._s(t._f("currency")(a.final_total))+"\n                ")])])}),0),t._v(" "),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計")]),t._v(" "),e("td",{staticClass:"text-right"},[t._v("\n                  "+t._s(t._f("currency")(t.cart.total))+"\n                ")])]),t._v(" "),e("tr",[e("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v("折扣價")]),t._v(" "),e("td",{staticClass:"text-right text-success"},[t._v("\n                  "+t._s(t._f("currency")(t.cart.final_total))+"\n                ")])])])]),t._v(" "),e("div",{staticClass:"input-group mb-3 input-group-sm w-75 mx-auto"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.couponCode,expression:"couponCode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.couponCode},on:{input:function(a){a.target.composing||(t.couponCode=a.target.value)}}}),t._v(" "),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.AddCouponCode}},[t._v("\n                套用優惠碼\n              ")])])]),t._v(" "),e("div",{staticClass:"row"},[e("button",{staticClass:"btn btn-outline-primary w-50 mx-auto",attrs:{type:"button"},on:{click:t.ToCart}},[t._v("\n              確認\n            ")])])],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header bg-primary"},[a("h5",{staticClass:"modal-title modal-cart__header__title"},[this._v("購物車")]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("thead",[a("th"),this._v(" "),a("th",[this._v("品名")]),this._v(" "),a("th",[this._v("數量")]),this._v(" "),a("th",{staticClass:"text-right"},[this._v("單價")])])}]},k={components:{Navbar:e("VU/8")(C,b,!1,null,null,null).exports,CartModal:e("VU/8")(x,y,!1,null,null,null).exports,Alert:u}},P={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Navbar"),t._v(" "),e("Alert"),t._v(" "),e("main",{attrs:{role:"main"}},[t._m(0),t._v(" "),e("div",{staticClass:"container",attrs:{id:"products_list"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("router-view")],1)])]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),e("CartModal")],1)],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"carousel slide",attrs:{id:"myCarousel","data-ride":"carousel"}},[s("ol",{staticClass:"carousel-indicators"},[s("li",{staticClass:"active",attrs:{"data-target":"#myCarousel","data-slide-to":"0"}}),t._v(" "),s("li",{attrs:{"data-target":"#myCarousel","data-slide-to":"1"}}),t._v(" "),s("li",{attrs:{"data-target":"#myCarousel","data-slide-to":"2"}})]),t._v(" "),s("div",{staticClass:"carousel-inner"},[s("div",{staticClass:"carousel-item active"},[s("img",{attrs:{src:e("j002"),alt:""}}),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"carousel-caption text-left"},[s("h1",[t._v("展示 輪播1")]),t._v(" "),s("p",[t._v("\n                展示 輪播1 文字\n              ")]),t._v(" "),s("p",[s("a",{staticClass:"btn btn-lg btn-primary",attrs:{href:"#"}},[t._v("Sign up today")])])])])]),t._v(" "),s("div",{staticClass:"carousel-item"},[s("img",{attrs:{src:e("y5wx"),alt:""}}),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"carousel-caption"},[s("h1",[t._v("展示 輪播2")]),t._v(" "),s("p",[t._v("\n                展示 輪播2 文字\n              ")]),t._v(" "),s("p",[s("a",{staticClass:"btn btn-lg btn-primary",attrs:{href:"#"}},[t._v("Learn more")])])])])]),t._v(" "),s("div",{staticClass:"carousel-item"},[s("img",{attrs:{src:e("dPdL"),alt:""}}),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"carousel-caption text-right"},[s("h1",[t._v("展示 輪播3")]),t._v(" "),s("p",[t._v("\n                展示 輪播3 文字\n              ")]),t._v(" "),s("p",[s("a",{staticClass:"btn btn-lg btn-primary",attrs:{href:"#"}},[t._v("Browse gallery")])])])])])]),t._v(" "),s("button",{staticClass:"carousel-control-prev",attrs:{type:"button","data-target":"#myCarousel","data-slide":"prev"}},[s("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),t._v(" "),s("span",{staticClass:"sr-only"},[t._v("Previous")])]),t._v(" "),s("button",{staticClass:"carousel-control-next",attrs:{type:"button","data-target":"#myCarousel","data-slide":"next"}},[s("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),t._v(" "),s("span",{staticClass:"sr-only"},[t._v("Next")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("footer",{staticClass:"container-sm footer mt-3"},[a("div",{staticClass:"footer__content"},[a("p",{staticClass:"footer__content__text"},[this._v("\n          © 2022-2022 Company, Inc. ·\n        ")]),this._v(" "),a("a",{staticClass:"btn btn-outline-primary footer__content__link",attrs:{href:"#"}},[this._v("Back to top")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"btn btn-outline-primary open-cart__button avoid-scrollbar-push",attrs:{"data-toggle":"modal","data-target":"#CartModal"}},[a("i",{staticClass:"fa-solid fa-cart-shopping"})])}]},w=e("VU/8")(k,P,!1,null,null,null).exports,$={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination justify-content-center mt-1"},[e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return t.upDataProduct(t.pagination.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._v(" "),t._l(t.pagination.total_pages,function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.pagination.current_page===a}},[e("a",{staticClass:"page-link",attrs:{href:"#products_list"},on:{click:function(e){return t.upDataProduct(a)}}},[t._v(t._s(a))])])}),t._v(" "),e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return t.upDataProduct(t.pagination.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},staticRenderFns:[]},E=e("VU/8")({props:["pagination"],methods:{upDataProduct:function(t){this.$emit("trigger",t)}}},$,!1,null,null,null).exports,M={components:{pagination:E},data:function(){return{Products:[],Product:{},productCount:1,pagination:"",pagingProducts:[]}},methods:{GetProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this;this.$http.get("https://vue-course-api.hexschool.io/api/vuecake/products").then(function(e){a.Products=e.data.products.filter(function(t){return 1===t.is_enabled}),function(t,e){var s=t.length,i=Math.ceil(s/6),r=e;r>i&&(r=i);var o=6*r-6+1,n=6*r,l=[];t.forEach(function(t,a){var e=a+1;e>=o&&e<=n&&l.push(t)}),a.pagingProducts=l,a.pagination={total_pages:i,current_page:r,has_pre:r>1,has_next:r<i}}(a.Products,t)})},GetProduct:function(t){var a="https://vue-course-api.hexschool.io/api/vuecake/product/"+t,e=this;this.$http.get(a).then(function(t){e.Product=t.data.product,h()("#productModal").modal("show")})},AddCart:function(t){var a=this,e={product_id:t,qty:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1};this.$http.post("https://vue-course-api.hexschool.io/api/vuecake/cart",{data:e}).then(function(){h()("#productModal").modal("hide"),a.$bus.$emit("GetCart")})},ProductCountControl:function(t){switch(t){case"add":this.productCount+=1;break;case"reduce":this.productCount-=1}}},created:function(){this.GetProducts()}},N={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"row"},t._l(t.pagingProducts,function(a){return e("div",{key:a.id,staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"card card-item"},[e("div",{staticClass:"card-item__image",style:{backgroundImage:"url("+a.imageUrl+")"}},[e("span",{staticClass:"badge badge-secondary card-item__image__sort"},[t._v(t._s(a.category))]),t._v(" "),e("a",{staticClass:"card-item__image__link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.GetProduct(a.id)}}})]),t._v(" "),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[e("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(a.title))])]),t._v(" "),e("p",{staticClass:"card-text card-item__content"},[t._v(t._s(a.content))])]),t._v(" "),e("div",{staticClass:"d-flex align-items-end p-3"},[e("div",{staticClass:"input-group card-item__count"},[e("span",{staticClass:"btn",on:{click:function(a){return t.ProductCountControl("reduce")}}},[t._v(" - ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.productCount,expression:"productCount",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.productCount},on:{input:function(a){a.target.composing||(t.productCount=t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}}),t._v(" "),e("span",{staticClass:"btn",on:{click:function(a){return t.ProductCountControl("add")}}},[t._v(" + ")])]),t._v(" "),e("div",{staticClass:"card-item__price"},[e("div",{staticClass:"h5"},[t._v("現在只要 "+t._s(a.price)+" 元")]),t._v(" "),e("del",{staticClass:"h6"},[t._v("原價 "+t._s(a.origin_price)+" 元")])])]),t._v(" "),e("div",{staticClass:"card-footer p-0"},[e("button",{staticClass:"btn card-item__button",attrs:{type:"button"},on:{click:function(e){return t.AddCart(a.id,t.productCount)}}},[t._v("\n            加到購物車\n          ")])])])])}),0),t._v(" "),e("pagination",{staticClass:"d-flex mt-3 justify-content-center",attrs:{pagination:t.pagination},on:{trigger:t.GetProducts}}),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1","aria-labelledby":"productsModalLabel","aria-hidden":""}},[e("div",{staticClass:"modal-dialog modal-dialog-centered modal-xl",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[t._m(0),t._v(" "),e("div",{staticClass:"col-md modal-products__image"},[e("img",{staticClass:"img-fluid",attrs:{alt:"",src:t.Product.imageUrl}})]),t._v(" "),e("div",{staticClass:"col modal-products__container"},[e("div",{staticClass:"modal-products__title"},[e("h2",{attrs:{id:"productModalLabel"}},[t._v(t._s(t.Product.title))]),t._v(" "),e("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.Product.category))])]),t._v(" "),e("div",{staticClass:"modal-products__content"},[e("p",{staticClass:"text"},[t._v(t._s(t.Product.content))])]),t._v(" "),e("div",{staticClass:"modal-products__content__footer"},[e("div",{staticClass:"d-flex w-100 align-items-end"},[e("div",{staticClass:"input-group modal-products__content__footer__count"},[e("span",{staticClass:"btn",on:{click:function(a){return t.ProductCountControl("reduce")}}},[t._v(" - ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.productCount,expression:"productCount",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.productCount},on:{input:function(a){a.target.composing||(t.productCount=t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}}),t._v(" "),e("span",{staticClass:"btn",on:{click:function(a){return t.ProductCountControl("add")}}},[t._v(" + ")])]),t._v(" "),e("div",{staticClass:"ml-auto text-right"},[e("del",{staticClass:"h6"},[t._v("原價 "+t._s(t.Product.origin_price)+" 元")]),t._v(" "),e("div",{staticClass:"h5"},[t._v("現在只要 "+t._s(t.Product.price)+" 元")])])]),t._v(" "),e("button",{staticClass:"btn btn-primary w-100 mt-4",attrs:{type:"button"}},[t._v("\n                  加到購物車\n                ")])])])])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"close close-button",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}]},A=e("VU/8")(M,N,!1,null,null,null).exports,L={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"my-5 row justify-content-center"},[e("div",{staticClass:"col-md-6"},[e("h2",{staticClass:"text-center"},[t._v("收件人資料")]),t._v(" "),e("validation-observer",{scopedSlots:t._u([{key:"default",fn:function(a){var s=a.invalid;return[e("form",{on:{submit:function(a){return a.preventDefault(),t.CreateOrder.apply(null,arguments)}}},[e("validation-provider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"email"}},[t._v("Email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:i,attrs:{id:"email",type:"email",name:"Email",placeholder:"請輸入email"},domProps:{value:t.form.user.email},on:{input:function(a){a.target.composing||t.$set(t.form.user,"email",a.target.value)}}}),t._v(" "),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])])]}}],null,!0)}),t._v(" "),e("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"text"}},[t._v("收件人姓名")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",class:i,attrs:{type:"text",name:"收件人姓名",placeholder:"請輸入收件人姓名"},domProps:{value:t.form.user.name},on:{input:function(a){a.target.composing||t.$set(t.form.user,"name",a.target.value)}}}),t._v(" "),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])])]}}],null,!0)}),t._v(" "),e("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"text"}},[t._v("收件人電話")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",class:i,attrs:{type:"text",name:"收件人電話",placeholder:"請輸入收件人電話"},domProps:{value:t.form.user.tel},on:{input:function(a){a.target.composing||t.$set(t.form.user,"tel",a.target.value)}}}),t._v(" "),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])])]}}],null,!0)}),t._v(" "),e("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"text"}},[t._v("收件人地址")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",class:i,attrs:{type:"text",name:"收件人地址",placeholder:"請輸入收件人地址"},domProps:{value:t.form.user.address},on:{input:function(a){a.target.composing||t.$set(t.form.user,"address",a.target.value)}}}),t._v(" "),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])])]}}],null,!0)}),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"comment"}},[t._v("留言")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.user.message,expression:"form.user.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10"},domProps:{value:t.form.user.message},on:{input:function(a){a.target.composing||t.$set(t.form.user,"message",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"text-right mb-3"},[e("button",{staticClass:"btn btn-danger",attrs:{disabled:s},on:{click:t.CreateOrder}},[t._v("送出訂單")])]),t._v(" "),e("div",{staticClass:"text-right"},[e("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"CustomerOrders"}}},[t._v("\n              返回購物\n            ")])],1)],1)]}}])})],1)])])},staticRenderFns:[]},O=e("VU/8")({data:function(){return{form:{user:{name:"",email:"",address:"",tel:""},message:""}}},methods:{CreateOrder:function(){var t=this,a=t.form;this.isLoading=!0,this.$http.post("https://vue-course-api.hexschool.io/api/vuecake/order",{data:a}).then(function(a){t.isLoading=!1,t.$router.push({name:"CustomerCheckout",params:{orderId:""+a.data.orderId}})})}}},L,!1,null,null,null).exports,D={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"my-5 row justify-content-center"},[e("form",{staticClass:"col-sm-6"},[e("h2",{staticClass:"text-center mb-4"},[t._v("訂單建立成功")]),t._v(" "),e("p",{staticClass:"h3 text-center"},[t._v("商品明細")]),t._v(" "),e("table",{staticClass:"table"},[t._m(0),t._v(" "),e("tbody",t._l(t.order.products,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+" / "+t._s(a.product.unit))]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(a.final_total))])])}),0),t._v(" "),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),t._v(" "),e("p",{staticClass:"h3 text-center"},[t._v("收件人明細")]),t._v(" "),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("th",{attrs:{width:"100"}},[t._v("Email")]),t._v(" "),e("td",[t._v(t._s(t.order.user.email))])]),t._v(" "),e("tr",[e("th",[t._v("收件人姓名")]),t._v(" "),e("td",[t._v(t._s(t.order.user.name))])]),t._v(" "),e("tr",[e("th",[t._v("收件人電話")]),t._v(" "),e("td",[t._v(t._s(t.order.user.tel))])]),t._v(" "),e("tr",[e("th",[t._v("收件人地址")]),t._v(" "),e("td",[t._v(t._s(t.order.user.address))])]),t._v(" "),e("tr",[e("th",[t._v("付款狀態")]),t._v(" "),e("td",[t.order.is_paid?e("span",[t._v("付款完成")]):e("span",[t._v("尚未付款")])])])])]),t._v(" "),!1===t.order.is_paid?e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger",on:{click:t.payOrder}},[t._v("確認付款去")])]):t._e(),t._v(" "),e("div",{staticClass:"text-right"},[e("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"CustomerOrders"}}},[t._v("\n          返回購物\n        ")])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("thead",[a("th",[this._v("品名")]),this._v(" "),a("th",[this._v("數量")]),this._v(" "),a("th",[this._v("單價")])])}]},q=e("VU/8")({data:function(){return{order:{user:{}},orderId:""}},methods:{GetOrder:function(){var t=this,a="https://vue-course-api.hexschool.io/api/vuecake/order/"+t.orderId;this.$http.get(a).then(function(a){t.order=a.data.order})},payOrder:function(){var t=this,a="https://vue-course-api.hexschool.io/api/vuecake/pay/"+t.orderId;this.$http.post(a).then(function(a){a.data.success&&(t.GetOrder(),t.$router.push("/cake-test/customerOrders"))})}},created:function(){this.orderId=this.$route.params.orderId,this.GetOrder()}},D,!1,null,null,null).exports,S={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("div",{staticClass:"container"},[a("div",{staticClass:"row banner"},[a("div",{staticClass:"banner_txt"},[a("h2",[this._v("關於此網站")]),this._v(" "),a("p",[this._v("這是作品集中的範例網站\n          "),a("br"),this._v("\n          JavaScript 主要使用 Vue、Vue Router 製作\n          "),a("br"),this._v("\n          CSS 主要使用 Scss、Bootstrap 製作\n        ")])])])])])}]},U=e("VU/8")(null,S,!1,null,null,null).exports,F={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("header",[e("nav",{staticClass:"navbar navbar-expand-md navbar-dark fixed-top bg-dark"},[e("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("管理系統")]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"collapse navbar-collapse ",attrs:{id:"navbarCollapse"}},[e("div",{staticClass:"ml-auto toggle-show"},[e("button",{staticClass:"btn btn-outline-success",attrs:{type:"submit"},on:{click:t.logout}},[t._v("\n            登出\n          ")])]),t._v(" "),e("div",{staticClass:"toggle-hide"},[e("router-link",{staticClass:"btn ml-auto btn-outline-success m-2",attrs:{to:"/admin/products"}},[e("i",{staticClass:"fa-solid fa-box-open"}),t._v("\n            商品一覽\n          ")]),t._v(" "),e("router-link",{staticClass:"btn ml-auto btn-outline-success m-2",attrs:{to:"/admin/coupon"}},[e("i",{staticClass:"fa-solid fa-barcode"}),t._v("\n            優惠碼一覽\n          ")]),t._v(" "),e("router-link",{staticClass:"btn ml-auto btn-outline-success m-2",attrs:{to:"/admin/orders"}},[e("i",{staticClass:"fa-regular fa-file-lines"}),t._v("\n            訂單一覽\n          ")]),t._v(" "),e("button",{staticClass:"btn ml-auto btn-outline-success",attrs:{type:"submit"},on:{click:t.logout}},[t._v("\n            登出\n          ")])],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}]},T={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{staticClass:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",attrs:{id:"sidebarMenu"}},[e("div",{staticClass:"sidebar-sticky pt-3"},[e("ul",{staticClass:"nav flex-column"},[t._m(0),t._v(" "),e("li",{staticClass:"nav-item",on:{click:function(a){t.sidebarState="products"}}},[e("router-link",{staticClass:"nav-link",class:{active:"products"===t.sidebarState},attrs:{to:"/admin/products"}},[e("i",{staticClass:"fa-solid fa-box-open"}),t._v("\n            商品一覽\n          ")])],1),t._v(" "),e("li",{staticClass:"nav-item",on:{click:function(a){t.sidebarState="coupon"}}},[e("router-link",{staticClass:"nav-link",class:{active:"coupon"===t.sidebarState},attrs:{to:"/admin/coupon"}},[e("i",{staticClass:"fa-solid fa-barcode"}),t._v("\n            優惠碼一覽\n          ")])],1),t._v(" "),e("li",{staticClass:"nav-item",on:{click:function(a){t.sidebarState="orders"}}},[e("router-link",{staticClass:"nav-link",class:{active:"orders"===t.sidebarState},attrs:{to:"/admin/orders"}},[e("i",{staticClass:"fa-regular fa-file-lines"}),t._v("\n            訂單一覽\n          ")])],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("li",{staticClass:"nav-item"},[a("h5",{staticClass:"nav-link",attrs:{href:"#"}},[a("span",{attrs:{"data-feather":"home"}}),this._v("\n            管理項目 "),a("span",{staticClass:"sr-only"},[this._v("(current)")])])])}]},G={components:{AdminNavber:e("VU/8")({methods:{logout:function(){var t=this;t.$http.post("https://vue-course-api.hexschool.io/logout").then(function(a){a.data.success&&t.$router.push("/login")})}}},F,!1,null,null,null).exports,AdminSidebar:e("VU/8")({data:function(){return{sidebarState:""}}},T,!1,null,null,null).exports,Alert:u},created:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t}},V={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("AdminNavber"),this._v(" "),a("Alert"),this._v(" "),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("AdminSidebar"),this._v(" "),a("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 px-md-4"},[a("router-view")],1)],1)])],1)},staticRenderFns:[]},R=e("VU/8")(G,V,!1,null,null,null).exports,j=e("woOf"),B=e.n(j),I={components:{pagination:E},data:function(){return{Products:[],Product:{},isNew:!1,isLoading:!1,status:{fileuploading:!1},pagination:""}},methods:{openProductModal:function(t,a){this.$refs.files.value="",t?(this.Product={},this.isNew=!0):(this.Product=B()({},a),this.isNew=!1),h()("#ProductModal").modal("show")},toggleEnabled:function(t,a){t||(this.Product=B()({},a),this.Product.is_enabled=!a.is_enabled,this.Product.is_enabled?this.Product.is_enabled=1:this.Product.is_enabled=0,this.addProduct())},getProducts:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var e="https://vue-course-api.hexschool.io/api/vuecake/admin/products?page="+a;this.$http.get(e).then(function(a){t.isLoading=!1,t.Products=a.data.products,t.pagination=a.data.pagination})},addProduct:function(){var t=this,a="https://vue-course-api.hexschool.io/api/vuecake/admin/product",e="post";this.isNew||(a="https://vue-course-api.hexschool.io/api/vuecake/admin/product/"+this.Product.id,e="put"),this.$http[e](a,{data:this.Product}).then(function(a){a.data.success,h()("#ProductModal").modal("hide"),t.getProducts()})},removeProduct:function(t){var a=this,e="https://vue-course-api.hexschool.io/api/vuecake/admin/product/"+t;this.$http.delete(e).then(function(){a.getProducts()})},uploadFile:function(){var t=this;this.status.fileuploading=!0;var a=this.$refs.files.files[0],e=new FormData;e.append("file-to-upload",a);this.$http.post("https://vue-course-api.hexschool.io/api/vuecake/admin/upload",e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){a.data.success?(t.status.fileuploading=!1,t.$set(t.Product,"imageUrl",a.data.imageUrl)):t.$bus.$emit("message:push",a.data.message,"danger")})}},created:function(){this.getProducts()}},W={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("div",{staticClass:"text-right mt-5"},[e("button",{staticClass:"btn btn-primary my-3",on:{click:function(a){return t.openProductModal(!0)}}},[t._v("建立新的產品")])]),t._v(" "),e("table",{staticClass:"table table-responsive-sm mt-2 toggle-show"},[t._m(0),t._v(" "),e("tbody",t._l(t.Products,function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.category))]),t._v(" "),e("td",[t._v(t._s(a.title))]),t._v(" "),e("td",{staticClass:"text-right"},[t._v("\n          "+t._s(t._f("currency")(a.origin_price))+"\n        ")]),t._v(" "),e("td",{staticClass:"text-right"},[t._v("\n          "+t._s(t._f("currency")(a.price))+"\n        ")]),t._v(" "),e("td",[a.is_enabled?e("span",{staticClass:"text-success"},[t._v("已啟用")]):e("span",[t._v("未啟用")])]),t._v(" "),e("td",[e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.openProductModal(!1,a)}}},[t._v("編輯")]),t._v(" "),e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.removeProduct(a.id)}}},[t._v("刪除")])])])}),0)]),t._v(" "),e("div",{staticClass:"accordion toggle-hide",attrs:{id:"accordionExample"}},[e("div",{staticClass:"card"},[t._m(1),t._v(" "),e("div",{staticClass:"list-group list-group-flush"},t._l(t.Products,function(a){return e("div",{key:a.id,staticClass:"list-group-item",class:[a.is_enabled?"list-group-item-success":"list-group-item-danger"]},[e("div",{staticClass:"row collapsed align-items-center text-center",attrs:{"data-toggle":"collapse","data-target":"#"+a.id,"aria-expanded":"false","aria-controls":"collapseTwo"}},[e("div",{staticClass:"col-2 p-0"},[t._m(2,!0),t._v("\n              "+t._s(a.category)+"\n            ")]),t._v(" "),e("div",{staticClass:"col"},[t._v(t._s(a.title))]),t._v(" "),e("div",{staticClass:"col-3 p-0"},[e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.openProductModal(!1,a)}}},[e("i",{staticClass:"fa-solid fa-pen-to-square"})]),t._v(" "),e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.removeProduct(a.id)}}},[e("i",{staticClass:"fa-solid fa-trash"})])]),t._v(" "),e("div",{staticClass:"col-2 p-0"},[e("span",{on:{click:function(e){return t.toggleEnabled(!1,a)}}},[e("input",{attrs:{type:"checkbox"},domProps:{checked:a.is_enabled}})])]),t._v(" "),e("div",{staticClass:"container bg-light collapse",attrs:{id:""+a.id,"aria-labelledby":"headingTwo","data-parent":"#accordionExample"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[t._v("\n                  原價："+t._s(a.origin_price)+"\n                ")]),t._v(" "),e("div",{staticClass:"col"},[t._v("\n                  售價："+t._s(a.price)+"\n                ")])])])])])}),0)])]),t._v(" "),e("pagination",{attrs:{pagination:t.pagination},on:{trigger:t.getProducts}}),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"ProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"ProductModal","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(3),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Product.imageUrl,expression:"Product.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.Product.imageUrl},on:{input:function(a){a.target.composing||t.$set(t.Product,"imageUrl",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"customFile"},[t._v("或 上傳圖片\n                  "),t.status.fileuploading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),t._v(" "),e("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadFile}})]),t._v(" "),e("img",{staticClass:"img-fluid",attrs:{alt:"",src:t.Product.imageUrl}})]),t._v(" "),e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Product.title,expression:"Product.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.Product.title},on:{input:function(a){a.target.composing||t.$set(t.Product,"title",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"category"}},[t._v("分類")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Product.category,expression:"Product.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.Product.category},on:{input:function(a){a.target.composing||t.$set(t.Product,"category",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("單位")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Product.unit,expression:"Product.unit"}],staticClass:"form-control",attrs:{type:"text",id:"price",placeholder:"請輸入單位"},domProps:{value:t.Product.unit},on:{input:function(a){a.target.composing||t.$set(t.Product,"unit",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"origin_price"}},[t._v("原價")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Product.origin_price,expression:"Product.origin_price"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入原價"},domProps:{value:t.Product.origin_price},on:{input:function(a){a.target.composing||t.$set(t.Product,"origin_price",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("售價")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Product.price,expression:"Product.price"}],staticClass:"form-control",attrs:{type:"text",id:"price",placeholder:"請輸入售價"},domProps:{value:t.Product.price},on:{input:function(a){a.target.composing||t.$set(t.Product,"price",a.target.value)}}})]),t._v(" "),e("hr")]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("產品描述")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Product.description,expression:"Product.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:"請輸入產品描述"},domProps:{value:t.Product.description},on:{input:function(a){a.target.composing||t.$set(t.Product,"description",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"content"}},[t._v("說明內容")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Product.content,expression:"Product.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"請輸入說明內容"},domProps:{value:t.Product.content},on:{input:function(a){a.target.composing||t.$set(t.Product,"content",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Product.is_enabled,expression:"Product.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.Product.is_enabled)?t._i(t.Product.is_enabled,null)>-1:t._q(t.Product.is_enabled,1)},on:{change:function(a){var e=t.Product.is_enabled,s=a.target,i=s.checked?1:0;if(Array.isArray(e)){var r=t._i(e,null);s.checked?r<0&&t.$set(t.Product,"is_enabled",e.concat([null])):r>-1&&t.$set(t.Product,"is_enabled",e.slice(0,r).concat(e.slice(r+1)))}else t.$set(t.Product,"is_enabled",i)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("是否啟用")])])])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.addProduct}},[t._v("Save changes")])])])])])],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{attrs:{width:"100em"}},[t._v("分類")]),t._v(" "),e("th",[t._v("產品名稱")]),t._v(" "),e("th",{attrs:{width:"80em"}},[t._v("原價")]),t._v(" "),e("th",{attrs:{width:"80em"}},[t._v("售價")]),t._v(" "),e("th",{attrs:{width:"100em"}},[t._v("是否啟用")]),t._v(" "),e("th",{attrs:{width:"140em"}},[t._v("編輯")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"card-header"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-2 p-0"},[this._v("分類")]),this._v(" "),a("div",{staticClass:"col"},[this._v("產品名稱")]),this._v(" "),a("div",{staticClass:"col-3 p-0"},[this._v("編輯")]),this._v(" "),a("div",{staticClass:"col-2 p-0"},[this._v("啟用")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"btn btn-link d-inline p-0",attrs:{type:"button"}},[a("i",{staticClass:"fa-solid fa-angle-down"})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"ProductModal"}},[this._v("新增產品")]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]},z=e("VU/8")(I,W,!1,null,null,null).exports,Y={components:{pagination:E},data:function(){return{Coupons:[],Coupon:{},isLoading:!1,isNew:!1,status:{modalBehaviorToggle:""},pagination:""}},methods:{OpenCouponModal:function(t,a){t?(this.Coupon={},this.isNew=!0,this.status.modalBehaviorToggle="Add"):(this.Coupon=B()({},a),this.Coupon.due_date=new Date(a.due_date).toISOString().slice(0,10),this.isNew=!1,this.status.modalBehaviorToggle="Edit"),h()("#CouponModal").modal("show")},DataBehavior:function(t,a){var e=this,s=void 0,i=void 0,r=this,o={title:r.Coupon.title,is_enabled:r.Coupon.is_enabled,percent:Number(r.Coupon.percent),due_date:Date.parse(r.Coupon.due_date),code:r.Coupon.code};switch(t){case"Add":s="https://vue-course-api.hexschool.io/api/vuecake/admin/coupon",i="post";break;case"Edit":s="https://vue-course-api.hexschool.io/api/vuecake/admin/coupon/"+r.Coupon.id,i="put";break;case"Del":s="https://vue-course-api.hexschool.io/api/vuecake/admin/coupon/"+a,i="delete"}this.$http[i](s,{data:o}).then(function(t){h()("#CouponModal").modal("hide"),r.Coupons=t.data.coupons,e.GetCoupons()})},GetCoupons:function(){var t="https://vue-course-api.hexschool.io/api/vuecake/admin/coupons?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),a=this;a.isLoading=!0,this.$http.get(t).then(function(t){a.Coupons=t.data.coupons,a.pagination=t.data.pagination,a.isLoading=!1})}},created:function(){this.GetCoupons()}},Q={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("div",{staticClass:"text-right mt-5"},[e("button",{staticClass:"btn btn-primary my-3",on:{click:function(a){return t.OpenCouponModal(!0)}}},[t._v("新增優惠碼")])]),t._v(" "),e("table",{staticClass:"table toggle-show"},[t._m(0),t._v(" "),e("tbody",t._l(t.Coupons,function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(a.title))]),t._v(" "),e("td",[t._v(t._s(a.percent))]),t._v(" "),e("td",[t._v("\n          "+t._s(new Date(a.due_date).getFullYear()+" /\n          "+(new Date(a.due_date).getMonth()+1)+" /\n          "+new Date(a.due_date).getDate())+"\n        ")]),t._v(" "),e("td",[t._v(t._s(a.code))]),t._v(" "),e("td",[e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.OpenCouponModal(!1,a)}}},[e("i",{staticClass:"fa-solid fa-pen-to-square"}),t._v(" 編輯")]),t._v(" "),e("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(e){return t.DataBehavior("Del",a.id)}}},[e("i",{staticClass:"fa-solid fa-trash-can"}),t._v(" 刪除")])])])}),0)]),t._v(" "),e("div",{staticClass:"accordion toggle-hide",attrs:{id:"accordionExample"}},[e("div",{staticClass:"card"},[t._m(1),t._v(" "),e("div",{staticClass:"list-group list-group-flush"},t._l(t.Coupons,function(a){return e("div",{key:a.id,staticClass:"list-group-item"},[e("div",{staticClass:"row collapsed align-items-center text-center",attrs:{"data-toggle":"collapse","data-target":"#"+a.id,"aria-expanded":"false","aria-controls":"collapseTwo"}},[e("div",{staticClass:"col"},[t._m(2,!0),t._v("\n              "+t._s(a.title)+"\n            ")]),t._v(" "),e("div",{staticClass:"col"},[t._v(t._s(a.percent))]),t._v(" "),e("div",{staticClass:"col"},[t._v(t._s(t._f("dateConversion")(a.due_date)))]),t._v(" "),e("div",{staticClass:"container bg-light collapse",attrs:{id:""+a.id,"aria-labelledby":"headingTwo","data-parent":"#accordionExample"}},[e("div",{staticClass:"col"},[t._v("\n                優惠碼："+t._s(a.code)+"\n              ")])])])])}),0)])]),t._v(" "),e("pagination",{attrs:{pagination:t.pagination},on:{trigger:t.GetCoupons}}),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"CouponModal",tabindex:"-1",role:"dialog","aria-labelledby":"CouponModal","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(3),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Coupon.title,expression:"Coupon.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.Coupon.title},on:{input:function(a){a.target.composing||t.$set(t.Coupon,"title",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"percent"}},[t._v("優惠百分比")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Coupon.percent,expression:"Coupon.percent"}],staticClass:"form-control",attrs:{type:"text",id:"percent",placeholder:"請輸入優惠百分比"},domProps:{value:t.Coupon.percent},on:{input:function(a){a.target.composing||t.$set(t.Coupon,"percent",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"code"}},[t._v("優惠碼")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Coupon.code,expression:"Coupon.code"}],staticClass:"form-control",attrs:{type:"text",id:"code",placeholder:"請輸入優惠碼"},domProps:{value:t.Coupon.code},on:{input:function(a){a.target.composing||t.$set(t.Coupon,"code",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"due_date"}},[t._v("到期日")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Coupon.due_date,expression:"Coupon.due_date"}],attrs:{type:"date",id:"due_date"},domProps:{value:t.Coupon.due_date},on:{input:function(a){a.target.composing||t.$set(t.Coupon,"due_date",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Coupon.is_enabled,expression:"Coupon.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox","true-value":1,"false-value":0,id:"is_enabled"},domProps:{checked:Array.isArray(t.Coupon.is_enabled)?t._i(t.Coupon.is_enabled,null)>-1:t._q(t.Coupon.is_enabled,1)},on:{change:function(a){var e=t.Coupon.is_enabled,s=a.target,i=s.checked?1:0;if(Array.isArray(e)){var r=t._i(e,null);s.checked?r<0&&t.$set(t.Coupon,"is_enabled",e.concat([null])):r>-1&&t.$set(t.Coupon,"is_enabled",e.slice(0,r).concat(e.slice(r+1)))}else t.$set(t.Coupon,"is_enabled",i)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("\n                  是否啟用\n                ")])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),"Add"===t.status.modalBehaviorToggle?e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.DataBehavior("Add")}}},[t._v("確認新增")]):t._e(),t._v(" "),"Edit"===t.status.modalBehaviorToggle?e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.DataBehavior("Edit")}}},[t._v("更改資料")]):t._e()])])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("thead",[a("th",[this._v("標題")]),this._v(" "),a("th",[this._v("優惠百分比")]),this._v(" "),a("th",[this._v("到期日")]),this._v(" "),a("th",[this._v("優惠碼")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"card-header"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col"},[this._v("標題")]),this._v(" "),a("div",{staticClass:"col"},[this._v("優惠百分比")]),this._v(" "),a("div",{staticClass:"col"},[this._v("到期日")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"btn btn-link d-inline p-0",attrs:{type:"button"}},[a("i",{staticClass:"fa-solid fa-angle-down"})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"CouponModal"}},[this._v("新增優惠碼")]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]},Z=e("VU/8")(Y,Q,!1,null,null,null).exports,J={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("table",{staticClass:"table table-responsive-sm mt-5 toggle-show"},[t._m(0),t._v(" "),e("tbody",t._l(t.Orders,function(a){return e("tr",{key:a.id,class:[a.is_paid?"list-group-item-success":"list-group-item-danger"]},[e("td",[t._v(t._s(t._f("dateConversion")(a.create_at)))]),t._v(" "),e("td",[t._v(t._s(a.id))]),t._v(" "),e("td",[t._v(t._s(a.is_paid?"是":"否"))]),t._v(" "),!0===a.is_paid?e("td",[t._v(t._s(t._f("dateConversion")(a.paid_date)))]):e("td"),t._v(" "),e("td",[e("ul",{staticClass:"list-unstyled"},t._l(a.products,function(a,s){return e("li",{key:s},[t._v("\n              "+t._s(a.product.title)+" / "+t._s(a.product.num)+"\n            ")])}),0)]),t._v(" "),e("td",[t._v(t._s(t._f("currency")(a.total)))]),t._v(" "),e("td",[e("ul",{staticClass:"list-unstyled"},[e("li",[t._v("地址："+t._s(a.user.address))]),t._v(" "),e("li",[t._v("email："+t._s(a.user.email))]),t._v(" "),e("li",[t._v("留言："+t._s(a.user.message))]),t._v(" "),e("li",[t._v("姓名："+t._s(a.user.name))]),t._v(" "),e("li",[t._v("電話："+t._s(a.user.tel))])])])])}),0)]),t._v(" "),e("div",{staticClass:"accordion toggle-hide",attrs:{id:"accordionExample"}},[e("div",{staticClass:"card mt-5"},[t._m(1),t._v(" "),e("div",{staticClass:"list-group list-group-flush"},t._l(t.Orders,function(a){return e("div",{key:a.id,staticClass:"list-group-item",class:[a.is_paid?"list-group-item-success":"list-group-item-danger"]},[e("div",{staticClass:"row collapsed align-items-center",attrs:{"data-toggle":"collapse","data-target":"#"+a.id,"aria-expanded":"false","aria-controls":"collapseTwo"}},[e("div",{staticClass:"col-4 p-0"},[t._m(2,!0),t._v("\n              "+t._s(t._f("dateConversion")(a.create_at))+"\n            ")]),t._v(" "),e("div",{staticClass:"col"},[t._v(t._s(a.id))]),t._v(" "),e("div",{staticClass:"container bg-light collapse",attrs:{id:""+a.id,"aria-labelledby":"headingTwo","data-parent":"#accordionExample"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[t._v("是否付款："+t._s(a.is_paid?"是":"否"))]),t._v(" "),!0===a.is_paid?e("div",{staticClass:"col-7"},[t._v("\n                  付款時間："+t._s(t._f("dateConversion")(a.paid_date))+"\n                ")]):e("div",{staticClass:"col-7"})]),t._v(" "),e("div",{staticClass:"row"},[e("ul",{staticClass:"col list-unstyled"},[t._v("\n                  訂單明細：\n                  "),t._l(a.products,function(a,s){return e("li",{key:s},[t._v("\n                    "+t._s(a.product.title)+" / "+t._s(a.product.num)+"\n                  ")])}),t._v(" "),e("li",[t._v("訂單總額："+t._s(t._f("currency")(a.total)))])],2)])])])])}),0)])])],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",{staticClass:"thead-dark"},[e("tr",[e("th",{staticClass:"toggle-hide"}),t._v(" "),e("th",[t._v("建立時間")]),t._v(" "),e("th",[t._v("訂單ID")]),t._v(" "),e("th",[t._v("是否付款")]),t._v(" "),e("th",[t._v("付款時間")]),t._v(" "),e("th",{attrs:{width:"150rem"}},[t._v("訂單明細")]),t._v(" "),e("th",[t._v("訂單總額")]),t._v(" "),e("th",{attrs:{width:"200rem"}},[t._v("收件人資訊")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"card-header"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[this._v("建立時間")]),this._v(" "),a("div",{staticClass:"col"},[this._v("訂單ID")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"btn btn-link d-inline p-0",attrs:{type:"button"}},[a("i",{staticClass:"fa-solid fa-angle-down"})])}]},K=e("VU/8")({data:function(){return{Orders:[],isLoading:!1}},methods:{GetOrders:function(){var t=this;t.isLoading=!0,this.$http.get("https://vue-course-api.hexschool.io/api/vuecake/admin/orders?page=:page").then(function(a){t.Orders=a.data.orders,t.isLoading=!1})}},created:function(){this.GetOrders()}},J,!1,null,null,null).exports;r.a.use(l.a);var H=new l.a({routes:[{path:"*",redirect:"/cake-test"},{path:"/cake-test",component:w,meta:{requiresAuth:!1},children:[{path:"",component:U},{path:"customerOrders",name:"CustomerOrders",component:A,meta:{requiresAuth:!1}}]},{path:"/cake-test/customerCheckout/:orderId",name:"CustomerCheckout",component:q,meta:{requiresAuth:!1}},{path:"/cake-test/cart",name:"Cart",component:O,meta:{requiresAuth:!1}},{path:"/login",name:"Login",component:_,meta:{requiresAuth:!1}},{path:"/admin",name:"Admin_Dashboard",component:R,meta:{requiresAuth:!0},children:[{path:"products",name:"Products",component:z,meta:{requiresAuth:!0}},{path:"coupon",name:"Coupon",component:Z,meta:{requiresAuth:!1}},{path:"orders",name:"Orders",component:K,mete:{requiresAuth:!1}}]}]}),X=e("mtWM"),tt=e.n(X),at=e("aLYK"),et=(e("K3J8"),e("ZZvs")),st=e.n(et);e("SYh3");r.a.prototype.$bus=new r.a;var it=e("sUu7"),rt=e("SjS3"),ot=e.n(rt),nt=e("wGWZ");i()(nt).forEach(function(t){Object(it.d)(t,nt[t])}),Object(it.e)("zh_TW",ot.a),r.a.component("ValidationObserver",it.a),r.a.component("ValidationProvider",it.b),Object(it.c)({classes:{valid:"is-valid",invalid:"is-invalid"}}),r.a.filter("currency",function(t){return"$ "+Number(t).toFixed(0).replace(/./g,function(t,a,e){return a&&"."!==t&&(e.length-a)%3==0?(", "+t).replace(/\s/g,""):t})}),r.a.filter("dateConversion",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=t.toString().length<=10?Number(t+"000"):Number(""+t);return new Date(a).getFullYear()+"/"+new Date(a).getMonth()+"/"+new Date(a).getDate()}),r.a.component("Loading",st.a),r.a.config.productionTip=!1,tt.a.defaults.withCredentials=!0,r.a.use(at.a,tt.a),H.beforeEach(function(t,a,e){if(t.meta.requiresAuth){tt.a.post("https://vue-course-api.hexschool.io/api/user/check").then(function(t){t.data.success?e():e({path:"/Login"})})}else e()}),new r.a({el:"#app",router:H,components:{App:n},template:"<App/>"})},QQqg:function(t,a){},SYh3:function(t,a){},SjS3:function(t,a){t.exports={code:"zh_TW",messages:{alpha:"{_field_} 須以英文組成",alpha_dash:"{_field_} 須以英數、斜線及底線組成",alpha_num:"{_field_} 須以英數組成",alpha_spaces:"{_field_} 須以英文及空格組成",between:"{_field_} 須介於 {min} 至 {max}之間",confirmed:" {_field_} 不一致",digits:"{_field_} 須為 {length} 位數字",dimensions:"{_field_} 圖片尺寸不正確。須為 {width} x {height} 像素",email:"{_field_} 須為有效的電子信箱",excluded:"{_field_} 的選項無效",ext:"{_field_} 須為有效的檔案",image:"{_field_} 須為圖片",oneOf:"{_field_} 的選項無效",integer:"{_field_} 須為整數",length:"{_field_} 的長度須為 {length}",max:"{_field_} 不能大於 {length} 個字元",max_value:"{_field_} 不得大於 {max}",mimes:"{_field_} 須為有效的檔案類型",min:"{_field_} 不能小於 {length} 個字元",min_value:"{_field_} 不得小於 {min}",numeric:"{_field_} 須為數字",regex:"{_field_} 的格式錯誤",required:"{_field_} 為必填",required_if:"{_field_} 為必填",size:"{_field_} 的檔案須小於 {size}KB",double:"{_field_}字段必須為有效的小數"}}},dPdL:function(t,a,e){t.exports=e.p+"static/img/carousel-item3.815a9eb.jpg"},j002:function(t,a,e){t.exports=e.p+"static/img/carousel-item1.ef9877e.jpg"},y5wx:function(t,a,e){t.exports=e.p+"static/img/carousel-item2.4d47601.jpg"}},["NHnr"]);
//# sourceMappingURL=app.aac198bf66eae0b8a5b4.js.map